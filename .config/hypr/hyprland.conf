# ===================================================================
# HYPRLAND CONFIG - VERSÃO FINAL E CORRIGIDA
# ===================================================================

# Monitor
monitor=,preferred,auto,1

# Autostart de Programas
exec-once = /usr/lib/polkit-kde-agent/polkit-kde-agent-1
exec-once = hyprpaper
exec-once = dunst
exec-once = waybar

# Regras de Janela
windowrule = opacity 0.9 override 0.85 override, class:zen
windowrulev2 = opacity 0.85 0.80, class:^(wofi)$

# Theming GTK e Variáveis de Ambiente
env = GDK_BACKEND,wayland,x11
env = XCURSOR_THEME,Catppuccin Mocha Dark
env = XCURSOR_PATH,~/.local/share/icons/:/usr/share/icons/

# Configurações Gerais
general {
    border_size = 0
    gaps_in = 5
    gaps_out = 10
    layout = dwindle
}

# Decoração das Janelas (Bordas, Blur, etc.)
decoration {
    rounding = 10
    active_opacity = 0.8
    inactive_opacity = 0.7
    
    blur {
    enabled = true
    size = 1
    passes = 0
    new_optimizations = on # Ajuda a aplicar o blur de forma inteligente
    noise = 0.2
    contrast = 0.95
    brightness = 0.85
}
}

# Regras de Camada (para o blur da Waybar)
layerrule = blur, waybar

# Teclado
input {
    kb_layout = br
}

# Keybinds (Atalhos de Teclado)
bind = SUPER, RETURN, exec, ghostty    # Abrir Terminal
bind = SUPER, Q, killactive,           # Fechar janela ativa
bind = SUPER, M, exit,                 # Sair do Hyprland
bind = SUPER, X, exec, wlogout

# Atalhos para Screenshots
# Print -> Tela Inteira
bind = , PRINT, exec, screenshots.sh --now
# Shift + Print -> Selecionar Área
bind = SUPER, PRINT, exec, screenshots.sh --area
# Alt + Print -> Janela Ativa
bind = ALT, PRINT, exec, screenshots.sh --window

bind = SUPER, W, exec, wofi --show drun # Lançador Wofi
bind = SUPER, E, exec, thunar          # Gerenciador de Arquivos
bind = SUPER, B, exec, flatpak run app.zen_browser.zen # Navegador Zen (ID CORRIGIDO)

# Workspaces
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5

# Mover janela para workspace
bind = SUPER_SHIFT, 1, movetoworkspace, 1
bind = SUPER_SHIFT, 2, movetoworkspace, 2
bind = SUPER_SHIFT, 3, movetoworkspace, 3
bind = SUPER_SHIFT, 4, movetoworkspace, 4
bind = SUPER_SHIFT, 5, movetoworkspace, 5

# Mover foco entre janelas
bind = SUPER, left, movefocus, l
bind = SUPER, right, movefocus, r
bind = SUPER, up, movefocus, u
bind = SUPER, down, movefocus, d

